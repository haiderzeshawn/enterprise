# Web Development Team Sudo Permissions

# Allow vwdev-ldnet group to run file operations (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/touch /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/touch [A-Za-z0-9_/.-]*

# Allow mkdir commands (current directory and /var/www/)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/mkdir -p *, /bin/mkdir *, /bin/mkdir -p /var/www/[a-zA-Z0-9_-]**/**, /bin/mkdir /var/www/[a-zA-Z0-9_-]*/

# Allow text editors for engageapp files (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/vi /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/nano /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/vim /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/vi [A-Za-z0-9_/.-]*, \
                                 /usr/bin/nano [A-Za-z0-9_/.-]*, \
                                 /usr/bin/vim [A-Za-z0-9_/.-]*

# Allow rsync operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/rsync * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/rsync /var/www/engageapp/[A-Za-z0-9_/.-]* *, \
                                 /usr/bin/rsync [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /usr/bin/rsync -av [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /usr/bin/rsync -r [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*

# Allow file removal operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/rm -rf /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/rm -f /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/rm -r /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/rm -rf [A-Za-z0-9_/.-]*, \
                                 /bin/rm -f [A-Za-z0-9_/.-]*, \
                                 /bin/rm -r [A-Za-z0-9_/.-]*

# Allow copy operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/cp * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/cp * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/cp [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /usr/bin/cp [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /bin/cp -r [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /bin/cp -R [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*

# Allow scp operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/scp * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/scp [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /usr/bin/scp * [A-Za-z0-9_/.-]*

# Allow move operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/mv * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/mv * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/mv [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /usr/bin/mv [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*

# Allow permission changes for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/chmod * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/chmod -R * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/chmod * [A-Za-z0-9_/.-]*, \
                                 /bin/chmod -R * [A-Za-z0-9_/.-]*

# Allow ownership changes for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/chown * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/chown -R * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /bin/chown * [A-Za-z0-9_/.-]*, \
                                 /bin/chown -R * [A-Za-z0-9_/.-]*

# Allow zip operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/zip * -d /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/zip * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/zip [A-Za-z0-9_/.-]* -d [A-Za-z0-9_/.-]*, \
                                 /usr/bin/zip [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*, \
                                 /usr/bin/zip -r [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*

# Allow unzip operations for engageapp (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/unzip * -d /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/unzip * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/unzip [A-Za-z0-9_/.-]* -d [A-Za-z0-9_/.-]*, \
                                 /usr/bin/unzip [A-Za-z0-9_/.-]* [A-Za-z0-9_/.-]*

%vwdev-ldnet ALL=(ALL) NOPASSWD: /bin/systemctl status *, \
                                  /bin/systemctl restart *, \
                                  /bin/systemctl start *, \
                                  /bin/systemctl stop *, \
                                  /bin/systemctl reload *
#                                  /bin/systemctl enable *, \
#                                  /bin/systemctl disable *

# Allow git commands in engageapp directory (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/git * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/git -C /var/www/engageapp/[A-Za-z0-9_/.-]* *, \
                                 /usr/bin/git [A-Za-z0-9_/.-]*, \
                                 /usr/bin/git add [A-Za-z0-9_/.-]*, \
                                 /usr/bin/git commit *, \
                                 /usr/bin/git push *, \
                                 /usr/bin/git pull *, \
                                 /usr/bin/git status, \
                                 /usr/bin/git log *, \
                                 /usr/bin/git checkout [A-Za-z0-9_/.-]*, \
                                 /usr/bin/git branch *, \
                                 /usr/bin/git merge [A-Za-z0-9_/.-]*

# Allow git commands for webdevs-kphp group (broader permissions)
%webdevs-kphp ALL=(ALL) NOPASSWD: /usr/bin/git, \
                                  /usr/bin/git *

# Allow composer commands in engageapp directory (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/composer * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/local/bin/composer * /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/composer install, \
                                 /usr/bin/composer update, \
                                 /usr/bin/composer require [A-Za-z0-9_/.-]*, \
                                 /usr/bin/composer remove [A-Za-z0-9_/.-]*, \
                                 /usr/bin/composer dump-autoload, \
                                 /usr/local/bin/composer install, \
                                 /usr/local/bin/composer update, \
                                 /usr/local/bin/composer require [A-Za-z0-9_/.-]*, \
                                 /usr/local/bin/composer remove [A-Za-z0-9_/.-]*, \
                                 /usr/local/bin/composer dump-autoload

# Allow dotnet commands in engageapp directory (absolute and relative paths)
%vwdev-ldnet ALL=(ALL) NOPASSWD: /usr/bin/dotnet publish -c Release -o /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet build /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet restore /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet run /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet test /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet clean /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet pack /var/www/engageapp/[A-Za-z0-9_/.-]*, \
                                 /usr/bin/dotnet build, \
                                 /usr/bin/dotnet restore, \
                                 /usr/bin/dotnet run, \
                                 /usr/bin/dotnet test, \
                                 /usr/bin/dotnet clean, \
                                 /usr/bin/dotnet pack, \
                                 /usr/bin/dotnet publish *

